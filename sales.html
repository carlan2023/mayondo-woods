<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sales - MWF</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Playfair+Display:wght@600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background-color: #f8f9fa;
      }
      .brand-title {
        font-family: "Playfair Display", serif;
        color: #ff6219;
      }
      .btn-primary {
        background-color: #ff6219 !important;
        border: none !important;
      }
      .card {
        border: none;
        border-radius: 1rem;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
      <div class="container">
        <a class="navbar-brand brand-title" href="index.html">MWF Ltd</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="dashboard.html">Dashboard</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="inventory.html">Inventory</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="sales.html">Sales</a>
            </li>
            <li class="nav-item">
              <a class="btn btn-primary ms-2" href="login.html">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Sales Form -->
    <section class="container py-5">
      <h2 class="brand-title text-center mb-5">Record a Sale</h2>
      <div class="card shadow-lg p-4 mb-5">
        <form id="salesForm" class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Customer Name</label>
            <input type="text" id="customer" class="form-control" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">Sales Agent</label>
            <input type="text" id="agent" class="form-control" required />
          </div>
          <div class="col-md-4">
            <label class="form-label">Product Type</label>
            <select id="productType" class="form-select" required>
              <option value="wood">Wood</option>
              <option value="furniture">Furniture</option>
            </select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Product Name</label>
            <input type="text" id="productName" class="form-control" required />
          </div>
          <div class="col-md-4">
            <label class="form-label">Quantity</label>
            <input type="number" id="quantity" class="form-control" required />
          </div>
          <div class="col-md-3">
            <label class="form-label">Unit Price</label>
            <input type="number" id="unitPrice" class="form-control" required />
          </div>
          <div class="col-md-3">
            <label class="form-label">Transport</label>
            <select id="transport" class="form-select">
              <option value="no">No</option>
              <option value="yes">Yes (+5%)</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Payment Type</label>
            <select id="payment" class="form-select" required>
              <option value="cash">Cash</option>
              <option value="cheque">Cheque</option>
              <option value="bank">Bank Overdraft</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Date</label>
            <input type="date" id="date" class="form-control" required />
          </div>
          <div class="col-12 text-center">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-receipt"></i> Record Sale
            </button>
          </div>
        </form>
      </div>

      <!-- Sales Records Table -->
      <div class="card shadow-lg p-4">
        <h5 class="card-title mb-3">Sales Records</h5>
        <table class="table table-striped table-hover" id="salesTable">
          <thead class="table-dark">
            <tr>
              <th>Customer</th>
              <th>Product</th>
              <th>Qty</th>
              <th>Unit Price</th>
              <th>Transport</th>
              <th>Total</th>
              <th>Payment</th>
              <th>Agent</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <script>
      const salesForm = document.getElementById("salesForm");
      const salesTable = document.querySelector("#salesTable tbody");

      salesForm.addEventListener("submit", (e) => {
        e.preventDefault();

        const customer = document.getElementById("customer").value;
        const agent = document.getElementById("agent").value;
        const productName = document.getElementById("productName").value;
        const productType = document.getElementById("productType").value;
        const qty = parseInt(document.getElementById("quantity").value);
        const unitPrice = parseFloat(
          document.getElementById("unitPrice").value
        );
        const transport = document.getElementById("transport").value;
        const payment = document.getElementById("payment").value;
        const date = document.getElementById("date").value;

        // calculate total
        let total = qty * unitPrice;
        if (transport === "yes") {
          total *= 1.05; // add 5%
        }

        // Add row to table
        const row = document.createElement("tr");
        row.innerHTML = `
          <td>${customer}</td>
          <td>${productName} (${productType})</td>
          <td>${qty}</td>
          <td>$${unitPrice.toFixed(2)}</td>
          <td>${transport === "yes" ? "Yes (+5%)" : "No"}</td>
          <td>$${total.toFixed(2)}</td>
          <td>${payment}</td>
          <td>${agent}</td>
          <td>${date}</td>
        `;
        salesTable.appendChild(row);

        salesForm.reset();
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
